{"title":"Create DrawIO file","uid":"1efdb5a6988c00ebea0c5e042736921d","slug":"Create DrawIO file","date":"2023-07-29T10:00:19.224Z","updated":"2023-07-29T10:00:19.347Z","comments":true,"path":"api/articles/Create DrawIO file.json","keywords":"Digital Garden","cover":null,"content":"<p>&#x2F;*<br>Creates a new draw.io diagram file and opens the file in the <a href=\"https://github.com/zapthedingbat/drawio-obsidian\">Diagram plugin</a> in a new tab.</p>\n<pre><code class=\"js*/\">\nif(!ea.verifyMinimumPluginVersion || !ea.verifyMinimumPluginVersion(&quot;1.9.7&quot;)) &#123;\n  new Notice(&quot;This script requires a newer version of Excalidraw. Please install the latest version.&quot;);\n  return;\n&#125;\n\nconst drawIO = app.plugins.plugins[&quot;drawio-obsidian&quot;];\nif(!drawIO || !drawIO?._loaded) &#123;\n  new Notice(&quot;Can&#39;t find the draw.io diagram plugin&quot;);\n&#125;\n\nfilename = await utils.inputPrompt(&quot;Diagram name?&quot;);\nif(!filename) return;\nfilename = filename.toLowerCase().endsWith(&quot;.svg&quot;) ? filename : filename + &quot;.svg&quot;;\nconst filepath = await ea.getAttachmentFilepath(filename);\nif(!filepath) return;\nconst leaf = app.workspace.getLeaf(&#39;tab&#39;)\nif(!leaf) return;\n\nconst file = await this.app.vault.create(filepath, `&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;&lt;!--$&#123;ea.generateElementId()&#125;--&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; version=&quot;1.1&quot; width=&quot;300px&quot; height=&quot;300px&quot; viewBox=&quot;-0.5 -0.5 1 1&quot; content=&quot;&amp;lt;mxGraphModel&amp;gt;&amp;lt;root&amp;gt;&amp;lt;mxCell id=&amp;quot;0&amp;quot;/&amp;gt;&amp;lt;mxCell id=&amp;quot;1&amp;quot; parent=&amp;quot;0&amp;quot;/&amp;gt;&amp;lt;/root&amp;gt;&amp;lt;/mxGraphModel&amp;gt;&quot;&gt;&lt;/svg&gt;`);\n\nawait ea.addImage(0,0,file);\nawait ea.addElementsToView(true,true);\n\nleaf.setViewState(&#123;\n  type: &quot;diagram-edit&quot;,\n  state: &#123;\n    file: filepath\n  &#125;\n&#125;);\n</code></pre>\n","text":"&#x2F;*Creates a new draw.io diagram file and opens the file in the Diagram plugin in a new tab. if(!ea.verifyMinimumPluginVersion || !ea.ve...","link":"","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[],"tags":[],"toc":"","author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Create new markdown file and embed into active drawing","uid":"d40a96ec4b895f8656f14f2d105895c7","slug":"Create new markdown file and embed into active drawing","date":"2023-07-29T10:00:19.226Z","updated":"2023-07-29T10:00:19.348Z","comments":true,"path":"api/articles/Create new markdown file and embed into active drawing.json","keywords":"Digital Garden","cover":[],"text":"&#x2F;* Download this file and save to your Obsidian Vault including the first line, or open it in “Raw” and copy the entire contents to Obs...","link":"","photos":[],"count_time":{"symbolsCount":906,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Copy Selected Element Styles to Global","uid":"c17305872fedd7fedadb17f00b1756de","slug":"Copy Selected Element Styles to Global","date":"2023-07-29T10:00:19.222Z","updated":"2023-07-29T10:00:19.346Z","comments":true,"path":"api/articles/Copy Selected Element Styles to Global.json","keywords":"Digital Garden","cover":[],"text":"&#x2F;* Download this file and save to your Obsidian Vault including the first line, or open it in “Raw” and copy the entire contents to Obs...","link":"","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}