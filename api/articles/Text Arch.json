{"title":"Text Arch","uid":"b8b3f7ebb395b48818bfda76a53e2384","slug":"Text Arch","date":"2023-07-29T10:00:19.317Z","updated":"2023-07-29T10:00:19.424Z","comments":true,"path":"api/articles/Text Arch.json","keywords":"Digital Garden","cover":[],"content":"<p>&#x2F;*<br><img src=\"https://raw.githubusercontent.com/zsviczian/obsidian-excalidraw-plugin/master/images/text-arch.jpg\"></p>\n<p>Fit a text to the arch of a circle. The script will prompt you for the radius of the circle and then split your text to individual letters and place each letter to the arch defined by the radius. Setting a lower radius value will increase the arching of the text. Note that the arched-text will no longer be editable as a text element and it will no longer function as a markdown link. Emojis are currently not supported.</p>\n<pre><code class=\"javascript\">*/\nel = ea.getViewSelectedElement();\nif(!el || el.type!==&quot;text&quot;) &#123;\n    new Notice(&quot;Please select a text element&quot;);\n  return;\n&#125;\n\nea.style.fontSize = el.fontSize;\nea.style.fontFamily = el.fontFamily;\nea.style.strokeColor = el.strokeColor;\nea.style.opacity = el.opacity;\n\nconst r = parseInt (await utils.inputPrompt(&quot;The radius of the arch you&#39;d like to fit the text to&quot;,&quot;number&quot;,&quot;150&quot;));\nconst archAbove = await utils.suggester([&quot;Arch above&quot;,&quot;Arch below&quot;],[true,false]);\n\nif(isNaN(r)) &#123;\n  new Notice(&quot;The radius is not a number&quot;);\n  return;\n&#125;\n\ncirclePoint = (angle) =&gt; archAbove\n  ? [\n        r * Math.sin(angle),\n        -r * Math.cos(angle)\n    ]\n    : [\n        -r * Math.sin(angle),\n        r * Math.cos(angle)\n    ];\n\nlet rot = (archAbove ? -0.5 : 0.5) * ea.measureText(el.text).width/r;\n\nlet objectIDs = [];\nfor(i=0;i&lt;el.text.length;i++) &#123;\n    const character = el.text.substring(i,i+1);\n    const width = ea.measureText(character).width;\n  ea.style.angle = rot;\n  const [x,y] = circlePoint(rot);\n  rot += (archAbove ? 1 : -1) *width / r;\n  objectIDs.push(ea.addText(x,y,character));\n&#125;\nea.addToGroup(objectIDs);\nea.addElementsToView(true);\n</code></pre>\n","text":"&#x2F;* Fit a text to the arch of a circle. The script will prompt you for the radius of the circle and then split your text to individual l...","link":"","photos":[],"count_time":{"symbolsCount":"1.7k","symbolsTime":"2 mins."},"categories":[],"tags":[],"toc":"","author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Text to Sticky Notes","uid":"57f6881fb5562e51f74a8f79e9f7cd82","slug":"Text to Sticky Notes","date":"2023-07-29T10:00:19.320Z","updated":"2023-07-29T10:00:19.425Z","comments":true,"path":"api/articles/Text to Sticky Notes.json","keywords":"Digital Garden","cover":[],"text":"&#x2F;* Converts selected plain text element to sticky notes by dividing the text element line by line into separate sticky notes. The color...","link":"","photos":[],"count_time":{"symbolsCount":"5.1k","symbolsTime":"5 mins."},"categories":[],"tags":[],"author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"Split text by lines","uid":"c45800b27edeeb531f5f9c3216180b5e","slug":"Split text by lines","date":"2023-07-29T10:00:19.315Z","updated":"2023-07-29T10:00:19.422Z","comments":true,"path":"api/articles/Split text by lines.json","keywords":"Digital Garden","cover":[],"text":"&#x2F;* requires Excalidraw 1.5.1 or higher Download this file and save to your Obsidian Vault including the first line, or open it in “Raw”...","link":"","photos":[],"count_time":{"symbolsCount":848,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}