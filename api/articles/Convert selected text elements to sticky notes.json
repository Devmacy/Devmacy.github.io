{"title":"Convert selected text elements to sticky notes","uid":"c2aba0c87b302b6184b94af8b9a48a21","slug":"Convert selected text elements to sticky notes","date":"2023-07-29T10:00:19.217Z","updated":"2023-07-29T10:00:19.344Z","comments":true,"path":"api/articles/Convert selected text elements to sticky notes.json","keywords":"Digital Garden","cover":[],"content":"<p>&#x2F;*<br><img src=\"https://raw.githubusercontent.com/zsviczian/obsidian-excalidraw-plugin/master/images/scripts-textelement-to-transparent-stickynote.png\"></p>\n<p>Converts selected plain text elements to sticky notes with transparent background and transparent stroke color. Essentially converts text element into a wrappable format.</p>\n<pre><code class=\"javascript\">*/\nif(!ea.verifyMinimumPluginVersion || !ea.verifyMinimumPluginVersion(&quot;1.5.21&quot;)) &#123;\n  new Notice(&quot;This script requires a newer version of Excalidraw. Please install the latest version.&quot;);\n  return;\n&#125;\nlet settings = ea.getScriptSettings();\n//set default values on first run\nif(!settings[&quot;Border color&quot;]) &#123;\n    settings = &#123;\n      &quot;Border color&quot; : &#123;\n            value: &quot;#000000&quot;,\n      description: &quot;Any legal HTML color (#000000, rgb, color-name, etc.). Set to &#39;transparent&#39; for transparent color.&quot;\n        &#125;,\n        &quot;Background color&quot; : &#123;\n            value: &quot;transparent&quot;,\n      description: &quot;Background color of the sticky note. Set to &#39;transparent&#39; for transparent color.&quot;\n        &#125;,\n        &quot;Background fill style&quot; : &#123;\n            value: &quot;solid&quot;,\n      description: &quot;Fill style of the sticky note&quot;,\n          valueset: [&quot;hachure&quot;,&quot;cross-hatch&quot;,&quot;solid&quot;]\n        &#125;\n    &#125;;\n    await ea.setScriptSettings(settings);\n&#125;\n\nif(!settings[&quot;Max sticky note width&quot;]) &#123;\n  settings[&quot;Max sticky note width&quot;] = &#123;\n    value: &quot;600&quot;,\n    description: &quot;Maximum width of new sticky note. If text is longer, it will be wrapped&quot;,\n      valueset: [&quot;400&quot;,&quot;600&quot;,&quot;800&quot;,&quot;1000&quot;,&quot;1200&quot;,&quot;1400&quot;,&quot;2000&quot;]\n  &#125;\n  await ea.setScriptSettings(settings);\n&#125;\nconst maxWidth = parseInt(settings[&quot;Max sticky note width&quot;].value);\nconst strokeColor = settings[&quot;Border color&quot;].value;\nconst backgroundColor = settings[&quot;Background color&quot;].value;\nconst fillStyle = settings[&quot;Background fill style&quot;].value;\n\nconst elements = ea\n  .getViewSelectedElements()\n  .filter((el)=&gt;(el.type===&quot;text&quot;)&amp;&amp;(el.containerId===null));\nif(elements.length===0) &#123;\n  new Notice(&quot;Please select a text element&quot;);\n  return;\n&#125;\nea.style.strokeColor = strokeColor;\nea.style.backgroundColor = backgroundColor;\nea.style.fillStyle = fillStyle;\nconst padding = 6;\nconst boxes = [];\nea.copyViewElementsToEAforEditing(elements);\nea.getElements().forEach((el)=&gt;&#123;\n  const width = el.width+2*padding;\n  const widthOK = width&lt;=maxWidth;\n  const id = ea.addRect(el.x-padding,el.y-padding,widthOK?width:maxWidth,el.height+2*padding);\n  boxes.push(id);\n  ea.getElement(id).boundElements=[&#123;type:&quot;text&quot;,id:el.id&#125;];\n  el.containerId = id;\n&#125;);\nawait ea.addElementsToView(false,true);\nconst containers = ea.getViewElements().filter(el=&gt;boxes.includes(el.id));\nea.getExcalidrawAPI().updateContainerSize(containers);\nea.selectElementsInView(containers);\n</code></pre>\n","text":"&#x2F;* Converts selected plain text elements to sticky notes with transparent background and transparent stroke color. Essentially converts...","link":"","photos":[],"count_time":{"symbolsCount":"3k","symbolsTime":"3 mins."},"categories":[],"tags":[],"toc":"","author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Convert text to link with folder and alias","uid":"bf67f810276e0a8abcc4bdbff6b0a55a","slug":"Convert text to link with folder and alias","date":"2023-07-29T10:00:19.219Z","updated":"2023-07-29T10:00:19.345Z","comments":true,"path":"api/articles/Convert text to link with folder and alias.json","keywords":"Digital Garden","cover":[],"text":"&#x2F;* Download this file and save to your Obsidian Vault including the first line, or open it in “Raw” and copy the entire contents to Obs...","link":"","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Convert freedraw to line","uid":"43401c5ad187ee18ee7b052dbabdf338","slug":"Convert freedraw to line","date":"2023-07-29T10:00:19.215Z","updated":"2023-07-29T10:00:19.343Z","comments":true,"path":"api/articles/Convert freedraw to line.json","keywords":"Digital Garden","cover":[],"text":"&#x2F;* Convert selected freedraw objects into editable lines. This will allow you to adjust your drawings by dragging line points and will ...","link":"","photos":[],"count_time":{"symbolsCount":"2.4k","symbolsTime":"2 mins."},"categories":[],"tags":[],"author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}