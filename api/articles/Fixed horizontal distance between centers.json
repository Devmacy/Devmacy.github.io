{"title":"Fixed horizontal distance between centers","uid":"c07aef96b0da563fb4e8cd01e51ff50c","slug":"Fixed horizontal distance between centers","date":"2023-07-29T10:00:19.247Z","updated":"2023-07-29T10:00:19.363Z","comments":true,"path":"api/articles/Fixed horizontal distance between centers.json","keywords":"Digital Garden","cover":[],"content":"<p>&#x2F;*<br><img src=\"https://raw.githubusercontent.com/zsviczian/obsidian-excalidraw-plugin/master/images/scripts-download-raw.jpg\"></p>\n<p>Download this file and save to your Obsidian Vault including the first line, or open it in “Raw” and copy the entire contents to Obsidian.</p>\n<p><img src=\"https://raw.githubusercontent.com/zsviczian/obsidian-excalidraw-plugin/master/images/scripts-fixed-horizontal-distance-between-centers.png\"></p>\n<p>This script arranges the selected elements horizontally with a fixed center spacing.</p>\n<p>See documentation for more details:<br><a href=\"https://zsviczian.github.io/obsidian-excalidraw-plugin/ExcalidrawScriptsEngine.html\">https://zsviczian.github.io/obsidian-excalidraw-plugin/ExcalidrawScriptsEngine.html</a></p>\n<pre><code class=\"javascript\">*/\nif(!ea.verifyMinimumPluginVersion || !ea.verifyMinimumPluginVersion(&quot;1.5.21&quot;)) &#123;\n  new Notice(&quot;This script requires a newer version of Excalidraw. Please install the latest version.&quot;);\n  return;\n&#125;\nsettings = ea.getScriptSettings();\n//set default values on first run\nif(!settings[&quot;Default distance&quot;]) &#123;\n    settings = &#123;\n      &quot;Prompt for distance?&quot;: true,\n      &quot;Default distance&quot; : &#123;\n        value: 10,\n        description: &quot;Fixed horizontal distance between centers&quot;\n      &#125;,\n      &quot;Remember last distance?&quot;: false\n    &#125;;\n    ea.setScriptSettings(settings);\n&#125;\n\nlet distanceStr = settings[&quot;Default distance&quot;].value.toString();\nconst rememberLastDistance = settings[&quot;Remember last distance?&quot;];\n\nif(settings[&quot;Prompt for distance?&quot;]) &#123;\n    distanceStr = await utils.inputPrompt(&quot;distance?&quot;,&quot;number&quot;,distanceStr);\n&#125;\n\nconst distance = parseInt(distanceStr);\nif(isNaN(distance)) &#123;\n  return;\n&#125;\nif(rememberLastDistance) &#123;\n    settings[&quot;Default distance&quot;].value = distance;\n    ea.setScriptSettings(settings);\n&#125;\nconst elements=ea.getViewSelectedElements();\nconst topGroups = ea.getMaximumGroups(elements)\n    .filter(els =&gt; !(els.length === 1 &amp;&amp; els[0].type ===&quot;arrow&quot;)) // ignore individual arrows\n    .filter(els =&gt; !(els.length === 1 &amp;&amp; (els[0].containerId))); // ignore text in stickynote\n    \nconst groups = topGroups.sort((lha,rha) =&gt; lha[0].x - rha[0].x);\n\nfor(var i=0; i&lt;groups.length; i++) &#123;\n    if(i &gt; 0) &#123;\n        const preGroup = groups[i-1];\n        const curGroup = groups[i];\n\n        const preLeft = Math.min(...preGroup.map(el =&gt; el.x));\n        const preRight = Math.max(...preGroup.map(el =&gt; el.x + el.width));\n        const preCenter = preLeft + (preRight - preLeft) / 2;\n        const curLeft = Math.min(...curGroup.map(el =&gt; el.x));\n        const curRight = Math.max(...curGroup.map(el =&gt; el.x + el.width));\n        const curCenter = curLeft + (curRight - curLeft) / 2;\n        const distanceBetweenCenters = curCenter -  preCenter - distance;\n\n        for(const curEl of curGroup) &#123;\n            curEl.x = curEl.x - distanceBetweenCenters;\n        &#125;\n    &#125;\n&#125;\nea.copyViewElementsToEAforEditing(elements);\nawait ea.addElementsToView(false, false);\n</code></pre>\n","text":"&#x2F;* Download this file and save to your Obsidian Vault including the first line, or open it in “Raw” and copy the entire contents to Obs...","link":"","photos":[],"count_time":{"symbolsCount":"2.8k","symbolsTime":"3 mins."},"categories":[],"tags":[],"toc":"","author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Fixed inner distance","uid":"4909e6c65bbb40816d77d5c41608779a","slug":"Fixed inner distance","date":"2023-07-29T10:00:19.249Z","updated":"2023-07-29T10:00:19.364Z","comments":true,"path":"api/articles/Fixed inner distance.json","keywords":"Digital Garden","cover":[],"text":"&#x2F;* Download this file and save to your Obsidian Vault including the first line, or open it in “Raw” and copy the entire contents to Obs...","link":"","photos":[],"count_time":{"symbolsCount":"4.8k","symbolsTime":"4 mins."},"categories":[],"tags":[],"author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Expand rectangles vertically","uid":"aa20de198c42e0389715b5676ed68a33","slug":"Expand rectangles vertically","date":"2023-07-29T10:00:19.245Z","updated":"2023-07-29T10:00:19.362Z","comments":true,"path":"api/articles/Expand rectangles vertically.json","keywords":"Digital Garden","cover":[],"text":"&#x2F;* Download this file and save to your Obsidian Vault including the first line, or open it in “Raw” and copy the entire contents to Obs...","link":"","photos":[],"count_time":{"symbolsCount":"4.4k","symbolsTime":"4 mins."},"categories":[],"tags":[],"author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}