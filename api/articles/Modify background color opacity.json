{"title":"Modify background color opacity","uid":"8fc5f303927e140b24df3a557a9ee147","slug":"Modify background color opacity","date":"2023-07-29T10:00:19.275Z","updated":"2023-07-29T10:00:19.394Z","comments":true,"path":"api/articles/Modify background color opacity.json","keywords":"Digital Garden","cover":[],"content":"<p>&#x2F;*<br><img src=\"https://raw.githubusercontent.com/zsviczian/obsidian-excalidraw-plugin/master/images/scripts-download-raw.jpg\"></p>\n<p>Download this file and save to your Obsidian Vault including the first line, or open it in “Raw” and copy the entire contents to Obsidian.</p>\n<p><img src=\"https://raw.githubusercontent.com/zsviczian/obsidian-excalidraw-plugin/master/images/scripts-modify-background-color-opacity.png\"></p>\n<p>This script changes the opacity of the background color of the selected boxes.</p>\n<p>The default background color in Excalidraw is so dark that the text is hard to read. You can lighten the color a bit by setting transparency. And you can tweak the transparency over and over again until you’re happy with it.</p>\n<p>Although excalidraw has the opacity option in its native property Settings, it also changes the transparency of the border. Use this script to change only the opacity of the background color without affecting the border.</p>\n<pre><code class=\"javascript\">*/\nif(!ea.verifyMinimumPluginVersion || !ea.verifyMinimumPluginVersion(&quot;1.5.21&quot;)) &#123;\n  new Notice(&quot;This script requires a newer version of Excalidraw. Please install the latest version.&quot;);\n  return;\n&#125;\nsettings = ea.getScriptSettings();\n//set default values on first run\nif(!settings[&quot;Default opacity&quot;]) &#123;\n    settings = &#123;\n      &quot;Prompt for opacity?&quot;: true,\n      &quot;Default opacity&quot; : &#123;\n        value: 0.6,\n        description: &quot;Element&#39;s background color transparency&quot;\n      &#125;,\n      &quot;Remember last opacity?&quot;: false\n    &#125;;\n    ea.setScriptSettings(settings);\n&#125;\n\nlet opacityStr = settings[&quot;Default opacity&quot;].value.toString();\nconst rememberLastOpacity = settings[&quot;Remember last opacity?&quot;];\n\nif(settings[&quot;Prompt for opacity?&quot;]) &#123;\n    opacityStr = await utils.inputPrompt(&quot;Background color opacity?&quot;,&quot;number&quot;,opacityStr);\n&#125;\n\nconst alpha = parseFloat(opacityStr);\nif(isNaN(alpha)) &#123;\n  return;\n&#125;\nif(rememberLastOpacity) &#123;\n    settings[&quot;Default opacity&quot;].value = alpha;\n    ea.setScriptSettings(settings);\n&#125;\nconst elements=ea.getViewSelectedElements().filter((el)=&gt;[&quot;rectangle&quot;,&quot;ellipse&quot;,&quot;diamond&quot;,&quot;line&quot;,&quot;image&quot;].includes(el.type));\nea.copyViewElementsToEAforEditing(elements);\nea.getElements().forEach((el)=&gt;&#123;\n    const color = colorNameToHex(el.backgroundColor);\n    const rgbColor = /^#?([a-f\\d]&#123;2&#125;)([a-f\\d]&#123;2&#125;)([a-f\\d]&#123;2&#125;)$/i.exec(color);\n    if(rgbColor) &#123;\n        const r = parseInt(rgbColor[1], 16);\n        const g = parseInt(rgbColor[2], 16);\n        const b = parseInt(rgbColor[3], 16);\n        el.backgroundColor=`rgba($&#123;r&#125;,$&#123;g&#125;,$&#123;b&#125;,$&#123;alpha&#125;)`;\n    &#125;\n    else &#123;\n        const rgbaColor = /^rgba\\((\\d+,\\d+,\\d+,)(\\d*\\.?\\d*)\\)$/i.exec(color);\n        if(rgbaColor) &#123;\n            el.backgroundColor=`rgba($&#123;rgbaColor[1]&#125;$&#123;alpha&#125;)`;\n        &#125;\n    &#125;\n&#125;);\nawait ea.addElementsToView(false, false);\n\nfunction colorNameToHex(color) &#123;\n  const colors = &#123;\n    &quot;aliceblue&quot;:&quot;#f0f8ff&quot;,\n    &quot;antiquewhite&quot;:&quot;#faebd7&quot;,\n    &quot;aqua&quot;:&quot;#00ffff&quot;,\n    &quot;aquamarine&quot;:&quot;#7fffd4&quot;,\n    &quot;azure&quot;:&quot;#f0ffff&quot;,\n    &quot;beige&quot;:&quot;#f5f5dc&quot;,\n    &quot;bisque&quot;:&quot;#ffe4c4&quot;,\n    &quot;black&quot;:&quot;#000000&quot;,\n    &quot;blanchedalmond&quot;:&quot;#ffebcd&quot;,\n    &quot;blue&quot;:&quot;#0000ff&quot;,\n    &quot;blueviolet&quot;:&quot;#8a2be2&quot;,\n    &quot;brown&quot;:&quot;#a52a2a&quot;,\n    &quot;burlywood&quot;:&quot;#deb887&quot;,\n    &quot;cadetblue&quot;:&quot;#5f9ea0&quot;,\n    &quot;chartreuse&quot;:&quot;#7fff00&quot;,\n    &quot;chocolate&quot;:&quot;#d2691e&quot;,\n    &quot;coral&quot;:&quot;#ff7f50&quot;,\n    &quot;cornflowerblue&quot;:&quot;#6495ed&quot;,\n    &quot;cornsilk&quot;:&quot;#fff8dc&quot;,\n    &quot;crimson&quot;:&quot;#dc143c&quot;,\n    &quot;cyan&quot;:&quot;#00ffff&quot;,\n    &quot;darkblue&quot;:&quot;#00008b&quot;,\n    &quot;darkcyan&quot;:&quot;#008b8b&quot;,\n    &quot;darkgoldenrod&quot;:&quot;#b8860b&quot;,\n    &quot;darkgray&quot;:&quot;#a9a9a9&quot;,\n    &quot;darkgreen&quot;:&quot;#006400&quot;,\n    &quot;darkkhaki&quot;:&quot;#bdb76b&quot;,\n    &quot;darkmagenta&quot;:&quot;#8b008b&quot;,\n    &quot;darkolivegreen&quot;:&quot;#556b2f&quot;,\n    &quot;darkorange&quot;:&quot;#ff8c00&quot;,\n    &quot;darkorchid&quot;:&quot;#9932cc&quot;,\n    &quot;darkred&quot;:&quot;#8b0000&quot;,\n    &quot;darksalmon&quot;:&quot;#e9967a&quot;,\n    &quot;darkseagreen&quot;:&quot;#8fbc8f&quot;,\n    &quot;darkslateblue&quot;:&quot;#483d8b&quot;,\n    &quot;darkslategray&quot;:&quot;#2f4f4f&quot;,\n    &quot;darkturquoise&quot;:&quot;#00ced1&quot;,\n    &quot;darkviolet&quot;:&quot;#9400d3&quot;,\n    &quot;deeppink&quot;:&quot;#ff1493&quot;,\n    &quot;deepskyblue&quot;:&quot;#00bfff&quot;,\n    &quot;dimgray&quot;:&quot;#696969&quot;,\n    &quot;dodgerblue&quot;:&quot;#1e90ff&quot;,\n    &quot;firebrick&quot;:&quot;#b22222&quot;,\n    &quot;floralwhite&quot;:&quot;#fffaf0&quot;,\n    &quot;forestgreen&quot;:&quot;#228b22&quot;,\n    &quot;fuchsia&quot;:&quot;#ff00ff&quot;,\n    &quot;gainsboro&quot;:&quot;#dcdcdc&quot;,\n    &quot;ghostwhite&quot;:&quot;#f8f8ff&quot;,\n    &quot;gold&quot;:&quot;#ffd700&quot;,\n    &quot;goldenrod&quot;:&quot;#daa520&quot;,\n    &quot;gray&quot;:&quot;#808080&quot;,\n    &quot;green&quot;:&quot;#008000&quot;,\n    &quot;greenyellow&quot;:&quot;#adff2f&quot;,\n    &quot;honeydew&quot;:&quot;#f0fff0&quot;,\n    &quot;hotpink&quot;:&quot;#ff69b4&quot;,\n    &quot;indianred &quot;:&quot;#cd5c5c&quot;,\n    &quot;indigo&quot;:&quot;#4b0082&quot;,\n    &quot;ivory&quot;:&quot;#fffff0&quot;,\n    &quot;khaki&quot;:&quot;#f0e68c&quot;,\n    &quot;lavender&quot;:&quot;#e6e6fa&quot;,\n    &quot;lavenderblush&quot;:&quot;#fff0f5&quot;,\n    &quot;lawngreen&quot;:&quot;#7cfc00&quot;,\n    &quot;lemonchiffon&quot;:&quot;#fffacd&quot;,\n    &quot;lightblue&quot;:&quot;#add8e6&quot;,\n    &quot;lightcoral&quot;:&quot;#f08080&quot;,\n    &quot;lightcyan&quot;:&quot;#e0ffff&quot;,\n    &quot;lightgoldenrodyellow&quot;:&quot;#fafad2&quot;,\n    &quot;lightgrey&quot;:&quot;#d3d3d3&quot;,\n    &quot;lightgreen&quot;:&quot;#90ee90&quot;,\n    &quot;lightpink&quot;:&quot;#ffb6c1&quot;,\n    &quot;lightsalmon&quot;:&quot;#ffa07a&quot;,\n    &quot;lightseagreen&quot;:&quot;#20b2aa&quot;,\n    &quot;lightskyblue&quot;:&quot;#87cefa&quot;,\n    &quot;lightslategray&quot;:&quot;#778899&quot;,\n    &quot;lightsteelblue&quot;:&quot;#b0c4de&quot;,\n    &quot;lightyellow&quot;:&quot;#ffffe0&quot;,\n    &quot;lime&quot;:&quot;#00ff00&quot;,\n    &quot;limegreen&quot;:&quot;#32cd32&quot;,\n    &quot;linen&quot;:&quot;#faf0e6&quot;,\n    &quot;magenta&quot;:&quot;#ff00ff&quot;,\n    &quot;maroon&quot;:&quot;#800000&quot;,\n    &quot;mediumaquamarine&quot;:&quot;#66cdaa&quot;,\n    &quot;mediumblue&quot;:&quot;#0000cd&quot;,\n    &quot;mediumorchid&quot;:&quot;#ba55d3&quot;,\n    &quot;mediumpurple&quot;:&quot;#9370d8&quot;,\n    &quot;mediumseagreen&quot;:&quot;#3cb371&quot;,\n    &quot;mediumslateblue&quot;:&quot;#7b68ee&quot;,\n    &quot;mediumspringgreen&quot;:&quot;#00fa9a&quot;,\n    &quot;mediumturquoise&quot;:&quot;#48d1cc&quot;,\n    &quot;mediumvioletred&quot;:&quot;#c71585&quot;,\n    &quot;midnightblue&quot;:&quot;#191970&quot;,\n    &quot;mintcream&quot;:&quot;#f5fffa&quot;,\n    &quot;mistyrose&quot;:&quot;#ffe4e1&quot;,\n    &quot;moccasin&quot;:&quot;#ffe4b5&quot;,\n    &quot;navajowhite&quot;:&quot;#ffdead&quot;,\n    &quot;navy&quot;:&quot;#000080&quot;,\n    &quot;oldlace&quot;:&quot;#fdf5e6&quot;,\n    &quot;olive&quot;:&quot;#808000&quot;,\n    &quot;olivedrab&quot;:&quot;#6b8e23&quot;,\n    &quot;orange&quot;:&quot;#ffa500&quot;,\n    &quot;orangered&quot;:&quot;#ff4500&quot;,\n    &quot;orchid&quot;:&quot;#da70d6&quot;,\n    &quot;palegoldenrod&quot;:&quot;#eee8aa&quot;,\n    &quot;palegreen&quot;:&quot;#98fb98&quot;,\n    &quot;paleturquoise&quot;:&quot;#afeeee&quot;,\n    &quot;palevioletred&quot;:&quot;#d87093&quot;,\n    &quot;papayawhip&quot;:&quot;#ffefd5&quot;,\n    &quot;peachpuff&quot;:&quot;#ffdab9&quot;,\n    &quot;peru&quot;:&quot;#cd853f&quot;,\n    &quot;pink&quot;:&quot;#ffc0cb&quot;,\n    &quot;plum&quot;:&quot;#dda0dd&quot;,\n    &quot;powderblue&quot;:&quot;#b0e0e6&quot;,\n    &quot;purple&quot;:&quot;#800080&quot;,\n    &quot;rebeccapurple&quot;:&quot;#663399&quot;,\n    &quot;red&quot;:&quot;#ff0000&quot;,\n    &quot;rosybrown&quot;:&quot;#bc8f8f&quot;,\n    &quot;royalblue&quot;:&quot;#4169e1&quot;,\n    &quot;saddlebrown&quot;:&quot;#8b4513&quot;,\n    &quot;salmon&quot;:&quot;#fa8072&quot;,\n    &quot;sandybrown&quot;:&quot;#f4a460&quot;,\n    &quot;seagreen&quot;:&quot;#2e8b57&quot;,\n    &quot;seashell&quot;:&quot;#fff5ee&quot;,\n    &quot;sienna&quot;:&quot;#a0522d&quot;,\n    &quot;silver&quot;:&quot;#c0c0c0&quot;,\n    &quot;skyblue&quot;:&quot;#87ceeb&quot;,\n    &quot;slateblue&quot;:&quot;#6a5acd&quot;,\n    &quot;slategray&quot;:&quot;#708090&quot;,\n    &quot;snow&quot;:&quot;#fffafa&quot;,\n    &quot;springgreen&quot;:&quot;#00ff7f&quot;,\n    &quot;steelblue&quot;:&quot;#4682b4&quot;,\n    &quot;tan&quot;:&quot;#d2b48c&quot;,\n    &quot;teal&quot;:&quot;#008080&quot;,\n    &quot;thistle&quot;:&quot;#d8bfd8&quot;,\n    &quot;tomato&quot;:&quot;#ff6347&quot;,\n    &quot;turquoise&quot;:&quot;#40e0d0&quot;,\n    &quot;violet&quot;:&quot;#ee82ee&quot;,\n    &quot;wheat&quot;:&quot;#f5deb3&quot;,\n    &quot;white&quot;:&quot;#ffffff&quot;,\n    &quot;whitesmoke&quot;:&quot;#f5f5f5&quot;,\n    &quot;yellow&quot;:&quot;#ffff00&quot;,\n    &quot;yellowgreen&quot;:&quot;#9acd32&quot;\n  &#125;;\n  if (typeof colors[color.toLowerCase()] != &#39;undefined&#39;)\n    return colors[color.toLowerCase()];\n  return color;\n&#125;\n</code></pre>\n","text":"&#x2F;* Download this file and save to your Obsidian Vault including the first line, or open it in “Raw” and copy the entire contents to Obs...","link":"","photos":[],"count_time":{"symbolsCount":"9.7k","symbolsTime":"9 mins."},"categories":[],"tags":[],"toc":"","author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Normalize Selected Arrows","uid":"94dd5736dc50981b37c31780ed9dd77f","slug":"Normalize Selected Arrows","date":"2023-07-29T10:00:19.277Z","updated":"2023-07-29T10:00:19.395Z","comments":true,"path":"api/articles/Normalize Selected Arrows.json","keywords":"Digital Garden","cover":[],"text":"&#x2F;* This script will reset the start and end positions of the selected arrows. The arrow will point to the center of the connected box a...","link":"","photos":[],"count_time":{"symbolsCount":"3.8k","symbolsTime":"3 mins."},"categories":[],"tags":[],"author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Mindmap format","uid":"a270c09cac3c70483286bc10905557fc","slug":"Mindmap format","date":"2023-07-29T10:00:19.273Z","updated":"2023-07-29T10:00:19.392Z","comments":true,"path":"api/articles/Mindmap format.json","keywords":"Digital Garden","cover":[],"text":"&#x2F;* format the left to right mind map treeMind map is actually a tree, so you must have a root node. The script will determine the leftm...","link":"","photos":[],"count_time":{"symbolsCount":"14k","symbolsTime":"12 mins."},"categories":[],"tags":[],"author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}