{"title":"Ellipse Selected Elements","uid":"a181e17af2228b7c5da994f8052e8e2d","slug":"Ellipse Selected Elements","date":"2023-07-29T10:00:19.235Z","updated":"2023-07-29T10:00:19.358Z","comments":true,"path":"api/articles/Ellipse Selected Elements.json","keywords":"Digital Garden","cover":[],"content":"<p>&#x2F;*<br><img src=\"https://raw.githubusercontent.com/zsviczian/obsidian-excalidraw-plugin/master/images/scripts-ellipse-elements.png\"></p>\n<p>This script will add an encapsulating ellipse around the currently selected elements in Excalidraw.</p>\n<p>See documentation for more details:<br><a href=\"https://zsviczian.github.io/obsidian-excalidraw-plugin/ExcalidrawScriptsEngine.html\">https://zsviczian.github.io/obsidian-excalidraw-plugin/ExcalidrawScriptsEngine.html</a></p>\n<pre><code class=\"javascript\">*/\nif(!ea.verifyMinimumPluginVersion || !ea.verifyMinimumPluginVersion(&quot;1.5.21&quot;)) &#123;\n  new Notice(&quot;This script requires a newer version of Excalidraw. Please install the latest version.&quot;);\n  return;\n&#125;\nsettings = ea.getScriptSettings();\n//set default values on first run\nif(!settings[&quot;Default padding&quot;]) &#123;\n    settings = &#123;\n        &quot;Prompt for padding?&quot;: true,\n      &quot;Default padding&quot; : &#123;\n            value: 10,\n          description: &quot;Padding between the bounding box of the selected elements, and the ellipse the script creates&quot;\n        &#125;\n    &#125;;\n    ea.setScriptSettings(settings);\n&#125;\n\nlet padding = settings[&quot;Default padding&quot;].value;\n\nif(settings[&quot;Prompt for padding?&quot;]) &#123;\n    padding = parseInt (await utils.inputPrompt(&quot;padding?&quot;,&quot;number&quot;,padding.toString()));\n&#125;\n\nif(isNaN(padding)) &#123;\n  new Notice(&quot;The padding value provided is not a number&quot;);\n  return;\n&#125;\nelements = ea.getViewSelectedElements();\nconst box = ea.getBoundingBox(elements);\ncolor = ea\n        .getExcalidrawAPI()\n        .getAppState()\n        .currentItemStrokeColor;\n//uncomment for random color:\n//color = &#39;#&#39;+(Math.random()*0xFFFFFF&lt;&lt;0).toString(16).padStart(6,&quot;0&quot;);\nea.style.strokeColor = color;\n\nconst ellipseWidth = box.width/Math.sqrt(2);\nconst ellipseHeight = box.height/Math.sqrt(2);\n\nconst topX = box.topX - (ellipseWidth - box.width/2);\nconst topY = box.topY - (ellipseHeight - box.height/2);\nid = ea.addEllipse(\n    topX - padding,\n    topY - padding,\n    2*ellipseWidth + 2*padding,\n    2*ellipseHeight + 2*padding\n);\nea.copyViewElementsToEAforEditing(elements);\nea.addToGroup([id].concat(elements.map((el)=&gt;el.id)));\nea.addElementsToView(false,false);\n</code></pre>\n","text":"&#x2F;* This script will add an encapsulating ellipse around the currently selected elements in Excalidraw. See documentation for more detai...","link":"","photos":[],"count_time":{"symbolsCount":"2.1k","symbolsTime":"2 mins."},"categories":[],"tags":[],"toc":"","author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Excalidraw Collaboration Frame","uid":"c2e4cdaa95668ecfa2fabc06a928a39e","slug":"Excalidraw Collaboration Frame","date":"2023-07-29T10:00:19.237Z","updated":"2023-07-29T10:00:19.358Z","comments":true,"path":"api/articles/Excalidraw Collaboration Frame.json","keywords":"Digital Garden","cover":null,"text":"&#x2F;*Creates a new Excalidraw.com collaboration room and places the link to the room on the clipboard. const room = Array.from(window.cryp...","link":"","photos":[],"count_time":{"symbolsCount":750,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"room","slug":"room","count":1,"path":"api/tags/room.json"}],"author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Elbow connectors","uid":"13ea30ebd17055cb9b81ab0b3e2c7a26","slug":"Elbow connectors","date":"2023-07-29T10:00:19.233Z","updated":"2023-07-29T10:00:19.357Z","comments":true,"path":"api/articles/Elbow connectors.json","keywords":"Digital Garden","cover":[],"text":"&#x2F;* Download this file and save to your Obsidian Vault including the first line, or open it in “Raw” and copy the entire contents to Obs...","link":"","photos":[],"count_time":{"symbolsCount":"3.2k","symbolsTime":"3 mins."},"categories":[],"tags":[],"author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}