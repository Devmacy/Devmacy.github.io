{"title":"Lighten background color","uid":"61e0f09d98ca2d807aab8a4dcb946f8a","slug":"Lighten background color","date":"2023-07-29T10:00:19.268Z","updated":"2023-07-29T10:00:19.383Z","comments":true,"path":"api/articles/Lighten background color.json","keywords":"Digital Garden","cover":[],"content":"<p>&#x2F;*<br><img src=\"https://raw.githubusercontent.com/zsviczian/obsidian-excalidraw-plugin/master/images/scripts-download-raw.jpg\"></p>\n<p>Download this file and save to your Obsidian Vault including the first line, or open it in “Raw” and copy the entire contents to Obsidian.</p>\n<p><img src=\"https://raw.githubusercontent.com/zsviczian/obsidian-excalidraw-plugin/master/images/darken-lighten-background-color.png\"></p>\n<p>This script lightens the background color of the selected element by 2% at a time. </p>\n<p>You can use this script several times until you are satisfied. It is recommended to set a shortcut key for this script so that you can quickly try to DARKEN and LIGHTEN the color effect.</p>\n<p>In contrast to the <code>Modify background color opacity</code> script, the advantage is that the background color of the element is not affected by the canvas color, and the color value does not appear in a strange rgba() form.</p>\n<p>The color conversion method was copied from <a href=\"https://github.com/Qix-/color-convert\">color-convert</a>.</p>\n<pre><code class=\"javascript\">*/\n\nif(!ea.verifyMinimumPluginVersion || !ea.verifyMinimumPluginVersion(&quot;1.7.19&quot;)) &#123;\n  new Notice(&quot;This script requires a newer version of Excalidraw. Please install the latest version.&quot;);\n  return;\n&#125;\n\nlet settings = ea.getScriptSettings();\n//set default values on first run\nif(!settings[&quot;Step size&quot;]) &#123;\n  settings = &#123;\n    &quot;Step size&quot; : &#123;\n      value: 2,\n      description: &quot;Step size in percentage for making the color lighter&quot;\n    &#125;\n  &#125;;\n  ea.setScriptSettings(settings);\n&#125;\n\nconst step = settings[&quot;Step size&quot;].value;\n\nconst elements = ea\n  .getViewSelectedElements()\n  .filter((el) =&gt;\n    [&quot;rectangle&quot;, &quot;ellipse&quot;, &quot;diamond&quot;, &quot;image&quot;, &quot;line&quot;, &quot;freedraw&quot;].includes(el.type)\n  );\nea.copyViewElementsToEAforEditing(elements);\nfor (const el of ea.getElements()) &#123;\n  const color = ea.colorNameToHex(el.backgroundColor);\n  const cm = ea.getCM(color);\n  if (cm) &#123;\n    const lighter = cm.lighterBy(step);\n    if(Math.ceil(lighter.lightness)&lt;100) el.backgroundColor = lighter.stringHSL();\n  &#125;\n&#125;\nawait ea.addElementsToView(false, false);\n</code></pre>\n","text":"&#x2F;* Download this file and save to your Obsidian Vault including the first line, or open it in “Raw” and copy the entire contents to Obs...","link":"","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[],"tags":[],"toc":"","author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Mindmap connector","uid":"5e921ced045f3ba1eac86cf604483afc","slug":"Mindmap connector","date":"2023-07-29T10:00:19.271Z","updated":"2023-07-29T10:00:19.390Z","comments":true,"path":"api/articles/Mindmap connector.json","keywords":"Digital Garden","cover":[],"text":"&#x2F;* This script creates mindmap like lines(only right and down side are available). The line will starts according to the creation time ...","link":"","photos":[],"count_time":{"symbolsCount":"3.2k","symbolsTime":"3 mins."},"categories":[],"tags":[],"author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Invert colors","uid":"516fdfc977076be85ee0c36a27a100d1","slug":"Invert colors","date":"2023-07-29T10:00:19.266Z","updated":"2023-07-29T10:00:19.380Z","comments":true,"path":"api/articles/Invert colors.json","keywords":"Digital Garden","cover":[],"text":"&#x2F;* The script inverts the colors on the canvas including the color palette in Element Properties. */ const defaultColorPalette = &#123;...","link":"","photos":[],"count_time":{"symbolsCount":"3.1k","symbolsTime":"3 mins."},"categories":[],"tags":[],"author":{"name":"Devmacy","slug":"blog-author","avatar":"https://s1.ax1x.com/2023/01/24/pSYhwB4.jpg","link":"/","description":"数字花园","socials":{"github":"https://github.com/Devmacy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}